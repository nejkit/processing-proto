syntax = "proto3";

option go_package = "/orders";

package goprocessingproto.orders;

enum Direction {
    DIRECTION_TYPE_NONE = 0;
    DIRECTION_TYPE_SELL = 1;
    DIRECTION_TYPE_BUY = 2;
}

enum OrderType {
    ORDER_TYPE_NONE = 0;
    ORDER_TYPE_MARKET = 1;
    ORDER_TYPE_LIMIT = 2;
}

enum OrderState {
    ORDER_STATE_NONE = 0;
    ORDER_STATE_NEW = 1;
    ORDER_STATE_IN_PROCESS = 2;
    ORDER_STATE_PART_FILL = 3;
    ORDER_STATE_FILL = 4;
    ORDER_STATE_DONE = 5;
    ORDER_STATE_REJECT = 6;
}

message CreateOrderRequest {
    string id  = 1;
    string sell_curency  = 2;
    string buy_currency = 3;
    Direction direction = 4;
    float init_price = 5;
    float init_volume = 6;
    OrderType order_type = 7;
}

message CreateOrderResponse {
    string id = 1;
    string order_id = 2;
}

message MatchingData {
    float fill_price = 1;
    float fill_volume = 2;
    uint64 date = 3;
}

message OrderInfo {
    string id = 1;
    string sell_curency  = 2;
    string buy_currency = 3;
    Direction direction = 4;
    float init_price = 5;
    float init_volume = 6;
    OrderType order_type = 7;
    OrderState order_state = 8;
    repeated MatchingData match_infos = 9;
    uint64 creation_date = 10;
    uint64 updated_date = 11;
    uint64 expiration_date = 12;
}

message GetOrderRequest {
    string id = 1;
    string order_id = 2;
}

message GetOrderResponse {
    string id = 1;
    OrderInfo order_data = 2;
}

